{"ast":null,"code":"var _jsxFileName = \"/Users/talbachar/Desktop/MeetingGround/src/pages/signup.tsx\";\n\n/*users.jsx*/\nimport React, { useState } from \"react\"; //, { Component, useState }\n//You have to use the link component to link between you pages\n\nimport gql from \"graphql-tag\"; // import { Query, graphql } from \"react-apollo\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { ApolloProvider } from \"react-apollo\";\nimport styled from \"@emotion/styled\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport DatePicker from \"react-datepicker\"; //yarn add react-datepicker\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport setSeconds from \"date-fns/setSeconds\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport setHours from \"date-fns/setHours\";\nconst cache = new InMemoryCache();\nconst link = new HttpLink({\n  uri: \"http://localhost:4000/graphql\"\n});\nconst client = new ApolloClient({\n  cache,\n  link\n}); //const id = this.props.match.params.id  ;//this.props.match.params.id;\n\nconst urlId = {\n  urlid: \"\"\n};\nconst timeSpan = {\n  interval: 45\n};\nconst CalendarCard = styled.div`\n  margin: 0 auto;\n  width: 1000px;\n  height: 1000px;\n  align-items: center;\n  border-radius: 15px;\n`;\nconst temp = [];\nlet interval; // let handleChange = (date: any) => {\n//   this.setState({\n//     startDate: date,\n//   });\n// };\n\nconst SignUpPage = props => {\n  const id = props.match.params.id;\n  urlId.urlid = id;\n  const [startDate, setStartDate] = useState(setHours(setMinutes(new Date(), 30), 16));\n  const [startTime, setStartTime] = useState(setHours(setMinutes(new Date(), 30), 16)); //const [interval, setInterval] = useState(45);\n\n  let handleColor = time => {\n    return time.getHours() > 12 ? \"text-success\" : \"text-error\";\n  };\n\n  let excludeTimeDictionary = {\n    \"2020-6-20\": [setSeconds(setHours(setMinutes(new Date(), 0), 17), 0), // 17:00\n    setHours(setMinutes(new Date(), 30), 18)],\n    \"2020-6-22\": [setHours(setMinutes(new Date(), 30), 19), setHours(setMinutes(new Date(), 30), 17)]\n  }; //let excludeTimeList: Date[] = [];\n\n  const [excludeTimeList, setExcludeTimeList] = useState([]);\n  const [selectTime, setSelect] = useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault(); //result contains the selected time + date\n\n    let result = new Date();\n    result.setTime(startTime.getTime()); //note time includes the month/date/year\n\n    result.setDate(startDate.getDate());\n    result.setMonth(startDate.getMonth());\n    result.setFullYear(startDate.getFullYear());\n    let main = startDate;\n    console.log(main);\n    console.log(\"result is: \" + result);\n    props.history.push(\"/submit-info/\" + id + \"/\" + result.toString()); // return <Redirect to=\"/404\" />;\n  }\n\n  function IntervalSetup() {\n    const {\n      loading,\n      error,\n      data\n    } = useQuery(GET_UNIQUE_LINK, {\n      variables: {\n        id: urlId.urlid\n      }\n    });\n    return loading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, \"loading\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, \"An Error occurred: \", error) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker // showTimeSelect\n    , {\n      selected: startDate,\n      onChange: date => {\n        setStartDate(date);\n        let key = date.getFullYear().toString() + \"-\" + date.getMonth().toString() + \"-\" + date.getDate().toString();\n        console.log(\"mykey: \" + key);\n        setExcludeTimeList(excludeTimeDictionary[key]); //excludeTimeList = excludeTimeDictionary[key];\n\n        console.log(excludeTimeList);\n        setSelect(true);\n      },\n      timeFormat: \"HH:mm\",\n      timeIntervals: data.link.duration,\n      inline: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }), selectTime && /*#__PURE__*/React.createElement(DatePicker, {\n      showTimeSelect: true,\n      showTimeSelectOnly: true,\n      selected: startTime,\n      onChange: date => setStartTime(date),\n      timeFormat: \"HH:mm\",\n      timeIntervals: data.link.duration,\n      excludeTimes: excludeTimeList,\n      inline: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Select Date\"))));\n  } //interval = IntervalSetup() > 0 ? IntervalSetup() : 45;\n\n\n  return /*#__PURE__*/React.createElement(ApolloProvider, {\n    client: client,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SignUpServer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CalendarCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IntervalSetup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  })));\n};\n\nfunction SignUpServer() {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_UNIQUE_LINK, {\n    variables: {\n      id: urlId.urlid\n    }\n  });\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 5\n    }\n  }, \"loading\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 5\n    }\n  }, \"An Error occurred: \", error) : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }, data.link.link, \" used by \", data.link.email, \" for \", data.link.duration));\n}\n\nconst GET_UNIQUE_LINK = gql`\n  query($id: String) {\n    link(id: $id) {\n      email\n      duration\n      link\n    }\n  }\n`;\nexport default SignUpPage;","map":{"version":3,"sources":["/Users/talbachar/Desktop/MeetingGround/src/pages/signup.tsx"],"names":["React","useState","gql","useQuery","ApolloClient","InMemoryCache","HttpLink","ApolloProvider","styled","DatePicker","setSeconds","setMinutes","setHours","cache","link","uri","client","urlId","urlid","timeSpan","interval","CalendarCard","div","temp","SignUpPage","props","id","match","params","startDate","setStartDate","Date","startTime","setStartTime","handleColor","time","getHours","excludeTimeDictionary","excludeTimeList","setExcludeTimeList","selectTime","setSelect","handleSubmit","e","preventDefault","result","setTime","getTime","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","main","console","log","history","push","toString","IntervalSetup","loading","error","data","GET_UNIQUE_LINK","variables","date","key","duration","SignUpServer","email"],"mappings":"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","sourcesContent":["/*users.jsx*/\nimport React, { useState, useEffect } from \"react\"; //, { Component, useState }\n//You have to use the link component to link between you pages\nimport { RouteComponentProps } from \"react-router-dom\";\nimport gql from \"graphql-tag\";\n// import { Query, graphql } from \"react-apollo\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache, NormalizedCacheObject } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { ApolloProvider } from \"react-apollo\";\nimport MyCalendar from \"./Moment\";\nimport styled from \"@emotion/styled\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport DatePicker from \"react-datepicker\";\n//yarn add react-datepicker\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport setSeconds from \"date-fns/setSeconds\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport setHours from \"date-fns/setHours\";\n\nimport Redirect, { withRouter } from \"react-router-dom\";\ninterface SignUpPagePropsInterface extends RouteComponentProps<{ id: string }> {\n  // Other props that belong to component it self not Router\n}\n\nconst cache = new InMemoryCache();\n\nconst link = new HttpLink({\n  uri: \"http://localhost:4000/graphql\",\n});\n\nconst client: ApolloClient<NormalizedCacheObject> = new ApolloClient({\n  cache,\n  link,\n});\n\n//const id = this.props.match.params.id  ;//this.props.match.params.id;\ntype Host = {\n  // Mistake #3: The type is wrong here, and that should be caught at compile-time\n  email: string;\n  firstname: string;\n  lastname: string;\n};\n\ntype Link = {\n  link: string;\n  duration: number;\n  email: string;\n};\n\nconst urlId: {\n  urlid: string;\n} = {\n  urlid: \"\",\n};\n\nconst timeSpan: {\n  interval: number;\n} = {\n  interval: 45,\n};\n\nconst CalendarCard = styled.div`\n  margin: 0 auto;\n  width: 1000px;\n  height: 1000px;\n  align-items: center;\n  border-radius: 15px;\n`;\nconst temp: any[] = [];\nlet interval: number;\n\n// let handleChange = (date: any) => {\n//   this.setState({\n//     startDate: date,\n//   });\n// };\n\nconst SignUpPage: React.FC<SignUpPagePropsInterface> = (\n  props: SignUpPagePropsInterface\n) => {\n  const id = props.match.params.id;\n  urlId.urlid = id;\n\n  const [startDate, setStartDate] = useState<Date>(\n    setHours(setMinutes(new Date(), 30), 16)\n  );\n\n  const [startTime, setStartTime] = useState<Date>(\n    setHours(setMinutes(new Date(), 30), 16)\n  );\n  //const [interval, setInterval] = useState(45);\n\n  let handleColor = (time: any) => {\n    return time.getHours() > 12 ? \"text-success\" : \"text-error\";\n  };\n\n  let excludeTimeDictionary: { [dateID: string]: Date[] } = {\n    \"2020-6-20\": [\n      setSeconds(setHours(setMinutes(new Date(), 0), 17), 0), // 17:00\n      setHours(setMinutes(new Date(), 30), 18),\n    ],\n    \"2020-6-22\": [\n      setHours(setMinutes(new Date(), 30), 19),\n      setHours(setMinutes(new Date(), 30), 17),\n    ],\n  };\n  //let excludeTimeList: Date[] = [];\n  const [excludeTimeList, setExcludeTimeList] = useState<Date[]>([]);\n\n  const [selectTime, setSelect] = useState(false);\n  function handleSubmit(e: any) {\n    e.preventDefault();\n\n    //result contains the selected time + date\n    let result = new Date();\n\n    result.setTime(startTime.getTime()); //note time includes the month/date/year\n    result.setDate(startDate.getDate());\n    result.setMonth(startDate.getMonth());\n    result.setFullYear(startDate.getFullYear());\n\n    let main = startDate;\n    console.log(main);\n\n    console.log(\"result is: \" + result);\n\n    props.history.push(\"/submit-info/\" + id + \"/\" + result.toString());\n    // return <Redirect to=\"/404\" />;\n  }\n\n  function IntervalSetup() {\n    const { loading, error, data } = useQuery(GET_UNIQUE_LINK, {\n      variables: { id: urlId.urlid },\n    });\n\n    return loading ? (\n      <div>loading</div>\n    ) : error ? (\n      <div>An Error occurred: {error}</div>\n    ) : (\n      <div className=\"form-group\">\n        <form onSubmit={handleSubmit}>\n          <DatePicker\n            // showTimeSelect\n            selected={startDate}\n            onChange={(date: Date) => {\n              setStartDate(date);\n              let key =\n                date.getFullYear().toString() +\n                \"-\" +\n                date.getMonth().toString() +\n                \"-\" +\n                date.getDate().toString();\n              console.log(\"mykey: \" + key);\n              setExcludeTimeList(excludeTimeDictionary[key]);\n              //excludeTimeList = excludeTimeDictionary[key];\n              console.log(excludeTimeList);\n              setSelect(true);\n            }}\n            timeFormat=\"HH:mm\"\n            timeIntervals={data.link.duration}\n            inline\n          />\n          {selectTime && (\n            <DatePicker\n              showTimeSelect\n              showTimeSelectOnly\n              selected={startTime}\n              onChange={(date: Date) => setStartTime(date)}\n              timeFormat=\"HH:mm\"\n              timeIntervals={data.link.duration}\n              excludeTimes={excludeTimeList}\n              inline\n            />\n          )}\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Select Date\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  //interval = IntervalSetup() > 0 ? IntervalSetup() : 45;\n\n  return (\n    <ApolloProvider client={client}>\n      <SignUpServer />\n\n      <CalendarCard>\n        <IntervalSetup />\n      </CalendarCard>\n      {/* <CalendarCard>\n        <MyCalendar myList={temp} />\n      </CalendarCard> */}\n    </ApolloProvider>\n  );\n};\n\nfunction SignUpServer() {\n  const { loading, error, data } = useQuery(GET_UNIQUE_LINK, {\n    variables: { id: urlId.urlid },\n  });\n  return loading ? (\n    <div>loading</div>\n  ) : error ? (\n    <div>An Error occurred: {error}</div>\n  ) : (\n    <ul>\n      <li>\n        {data.link.link} used by {data.link.email} for {data.link.duration}\n      </li>\n    </ul>\n  );\n}\n\nconst GET_UNIQUE_LINK = gql`\n  query($id: String) {\n    link(id: $id) {\n      email\n      duration\n      link\n    }\n  }\n`;\n\nexport default SignUpPage;\n"]},"metadata":{},"sourceType":"module"}