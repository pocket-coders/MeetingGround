{"ast":null,"code":"import * as React from 'react';\nimport { SSRContext, createSSRManager } from './internal/SSRContext';\nimport { isPromiseLike } from './utils';\nexport function getMarkupFromTree(_ref) {\n  var tree = _ref.tree,\n      onBeforeRender = _ref.onBeforeRender,\n      renderFunction = _ref.renderFunction;\n  var ssrManager = createSSRManager();\n\n  function process() {\n    try {\n      if (onBeforeRender) {\n        onBeforeRender();\n      }\n\n      var html = renderFunction(React.createElement(SSRContext.Provider, {\n        value: ssrManager\n      }, tree));\n\n      if (!ssrManager.hasPromises()) {\n        return html;\n      }\n    } catch (e) {\n      if (!isPromiseLike(e)) {\n        throw e;\n      }\n\n      ssrManager.register(e);\n    }\n\n    return ssrManager.consumeAndAwaitPromises().then(process);\n  }\n\n  return Promise.resolve().then(process);\n}","map":{"version":3,"sources":["/Users/talbachar/Desktop/MeetingGround/node_modules/react-apollo-hooks/es/getMarkupFromTree.js"],"names":["React","SSRContext","createSSRManager","isPromiseLike","getMarkupFromTree","_ref","tree","onBeforeRender","renderFunction","ssrManager","process","html","createElement","Provider","value","hasPromises","e","register","consumeAndAwaitPromises","then","Promise","resolve"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,uBAA7C;AACA,SAASC,aAAT,QAA8B,SAA9B;AACA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AACtC,MAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AAAA,MACIC,cAAc,GAAGF,IAAI,CAACE,cAD1B;AAAA,MAEIC,cAAc,GAAGH,IAAI,CAACG,cAF1B;AAGA,MAAIC,UAAU,GAAGP,gBAAgB,EAAjC;;AAEA,WAASQ,OAAT,GAAmB;AACjB,QAAI;AACF,UAAIH,cAAJ,EAAoB;AAClBA,QAAAA,cAAc;AACf;;AAED,UAAII,IAAI,GAAGH,cAAc,CAACR,KAAK,CAACY,aAAN,CAAoBX,UAAU,CAACY,QAA/B,EAAyC;AACjEC,QAAAA,KAAK,EAAEL;AAD0D,OAAzC,EAEvBH,IAFuB,CAAD,CAAzB;;AAIA,UAAI,CAACG,UAAU,CAACM,WAAX,EAAL,EAA+B;AAC7B,eAAOJ,IAAP;AACD;AACF,KAZD,CAYE,OAAOK,CAAP,EAAU;AACV,UAAI,CAACb,aAAa,CAACa,CAAD,CAAlB,EAAuB;AACrB,cAAMA,CAAN;AACD;;AAEDP,MAAAA,UAAU,CAACQ,QAAX,CAAoBD,CAApB;AACD;;AAED,WAAOP,UAAU,CAACS,uBAAX,GAAqCC,IAArC,CAA0CT,OAA1C,CAAP;AACD;;AAED,SAAOU,OAAO,CAACC,OAAR,GAAkBF,IAAlB,CAAuBT,OAAvB,CAAP;AACD","sourcesContent":["import * as React from 'react';\nimport { SSRContext, createSSRManager } from './internal/SSRContext';\nimport { isPromiseLike } from './utils';\nexport function getMarkupFromTree(_ref) {\n  var tree = _ref.tree,\n      onBeforeRender = _ref.onBeforeRender,\n      renderFunction = _ref.renderFunction;\n  var ssrManager = createSSRManager();\n\n  function process() {\n    try {\n      if (onBeforeRender) {\n        onBeforeRender();\n      }\n\n      var html = renderFunction(React.createElement(SSRContext.Provider, {\n        value: ssrManager\n      }, tree));\n\n      if (!ssrManager.hasPromises()) {\n        return html;\n      }\n    } catch (e) {\n      if (!isPromiseLike(e)) {\n        throw e;\n      }\n\n      ssrManager.register(e);\n    }\n\n    return ssrManager.consumeAndAwaitPromises().then(process);\n  }\n\n  return Promise.resolve().then(process);\n}"]},"metadata":{},"sourceType":"module"}